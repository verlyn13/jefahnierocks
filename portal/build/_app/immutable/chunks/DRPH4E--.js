import"./Bzak7iHL.js";import"./CyKQDHEQ.js";import{g as k,o as R,s as W,e as b}from"./BHMwHsqE.js";import{p as j,w as A,x as h,g as v,l as J,m as S,n as y,s as K,t as M,o as q,q as D}from"./CDWPIt_c.js";import{g as I,s as P,a as V,b as x}from"./BJ63dm5S.js";import{i as B}from"./Bt7a5Wb6.js";import{p as r}from"./BjAhemba.js";function F(o){return o&&typeof o.subscribe=="function"}function p(o){const e={};for(const t in o){const s=o[t];if(t==="nodes"&&typeof s=="object"&&typeof s.getAll=="function"){const a=s.getAll();e[t]=a.map(d=>p(d))}else if(F(s)){const a=k(s);e[t]=typeof a=="object"&&a!==null?p(a):a}else typeof s=="object"&&s!==null?e[t]=p(s):e[t]=s}return e}function H(o,e){return e instanceof DOMRectReadOnly?{x:e.x,y:e.y,width:e.width,height:e.height}:e}function L(o){console.log("graph state object:",o);const e=p(o),t=JSON.stringify(e,H);return localStorage.setItem("state",t),t}var Q=J('<div><button class="svelte-zsgwbh"><span class="material-symbols-outlined svelte-zsgwbh"> </span></button> <button class="save-button NW svelte-zsgwbh">Save</button></div>');function oe(o,e){j(e,!1),console.log("Componente ThemeToggle.svelte");let t=r(e,"main",8,"light"),s=r(e,"alt",8,"dark"),a=r(e,"mainIcon",8,"light_mode"),d=r(e,"altIcon",8,"dark_mode"),m=r(e,"corner",8,"NE"),z=r(e,"bgColor",8,null),C=r(e,"iconColor",8,null),u=A(t());function w(){const l=document.documentElement.getAttribute("svelvet-theme");let n;!l||l===t()?n=s():n=t(),h(u,n),document.documentElement.setAttribute("svelvet-theme",n),localStorage.setItem("currentTheme",n)}R(()=>{const l=localStorage.getItem("currentTheme");l?(document.documentElement.setAttribute("svelvet-theme",l),h(u,l)):(document.documentElement.setAttribute("svelvet-theme",t()),h(u,t()));const n=localStorage.getItem("state");if(n){console.log("Al renderizar la aplicacion este componente se ejecuta en este orden");const g=JSON.parse(n);if(g&&g.nodes){const N=k(I);console.log(N),N.set("G-1",g),console.log("Restaurando nodos:",g.nodes)}}});let f=A();I.subscribe(l=>{h(f,l.get("G-1")),console.log("Graph from store:",v(f))}),B();var c=Q();let T,_;var i=S(c),E=S(i),G=S(E,!0);y(E),y(i);var O=K(i,2);y(c),M((l,n)=>{T=P(c,1,"controls-wrapper svelte-zsgwbh",null,T,l),_=V(c,"",_,n),W(G,v(u)===t()?d():a())},[()=>({SW:m()==="SW",NE:m()==="NE",SE:m()==="SE",NW:m()==="NW"}),()=>({"--prop-theme-toggle-color":z(),"--prop-theme-toggle-text-color":C()})]),b("mousedown",i,x(w)),b("touchstart",i,x(w)),b("click",O,()=>{L(v(f))}),q(o,c),D()}export{oe as default};
